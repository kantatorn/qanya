{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["angular.module('App')\r\n\r\n\r\n\r\n    /**\r\n     * App controller\r\n     * */\r\n    .controller('AppCtrl', function ($scope, $timeout, $mdSidenav, $log, $translate) {\r\n\r\n        $scope.toggleLeft = buildToggler('left');\r\n        $scope.toggleRight = buildToggler('right');\r\n        $scope.isOpenRight = function () {\r\n            return $mdSidenav('left').isOpen();\r\n        };\r\n\r\n        function buildToggler(navID) {\r\n            return function() {\r\n                // Component lookup should always be available since we are not using `ng-if`\r\n                $mdSidenav(navID)\r\n                    .toggle();\r\n            }\r\n        }\r\n    })\r\n\r\n\r\n    /**\r\n     * User Controller\r\n     * */\r\n    .controller('UserCtrl',function($mdDialog, $http, $scope, $log, $window, $translate,toastr) {\r\n        var userCtrl = this;\r\n        var originatorEv;\r\n\r\n        /* Init vars */\r\n        userCtrl.channelVisible     = false;\r\n        userCtrl.expertsVisible     = false;\r\n        userCtrl.profileCardVisible = false;\r\n\r\n        userCtrl.tagExpertiseList = []; //from init\r\n        userCtrl.expertiseArray = {};\r\n        userCtrl.keys = [188];  //comma\r\n        userCtrl.pwdForm = {};\r\n        userCtrl.editForm = {};\r\n        userCtrl.isloading = false;\r\n        userCtrl.cardEnter = 'md-padding animated  rotateInDownRight';\r\n        userCtrl.cardLeave = 'animated rotateOutUpLeft';\r\n        //--- end var ---\r\n\r\n        /**\r\n         * Check user name\r\n         * */\r\n        userCtrl.checkUserName = function () {\r\n            userCtrl.isloading = true;\r\n            $http.post('/checkName', {\r\n                    name: userCtrl.username\r\n            })\r\n\r\n            .success(function (response) {\r\n                console.log(response);\r\n                userCtrl.nameVerified = true;\r\n                userCtrl.isloading = false;\r\n                return response;\r\n            })\r\n        }\r\n\r\n\r\n        userCtrl.isUsername = function(username)\r\n        {\r\n            console.log(username);\r\n            if(username){\r\n                userCtrl.channelVisible = true;\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * Save username\r\n         * */\r\n        userCtrl.saveUsername = function()\r\n        {\r\n            $http.post('/saveName', { name: userCtrl.username })\r\n            .success(function (response) {\r\n                userCtrl.channelVisible = true\r\n                return response;\r\n            })\r\n        }\r\n\r\n        /**\r\n         * Save channel\r\n         */\r\n        userCtrl.saveChannel = function ()\r\n        {\r\n            $http.post('/saveChannel', { channels: userCtrl.channelSelect })\r\n            .success(function (response) {\r\n                userCtrl.expertsVisible = true;\r\n                return response;\r\n            })\r\n        }\r\n\r\n\r\n        /**\r\n         * Open the menu windows\r\n         */\r\n        userCtrl.openMenu = function($mdOpenMenu, ev) {\r\n            originatorEv = ev;\r\n            $mdOpenMenu(ev);\r\n        };\r\n\r\n        /**\r\n         * List user expertise\r\n         **/\r\n        userCtrl.expertiseList = function(uuid){\r\n            $http.post('/listExpertise',{ uuid: uuid})\r\n            .success(function(response){\r\n                console.log(response);\r\n                userCtrl.expertiseArray = response;\r\n                return response;\r\n            })\r\n        }\r\n\r\n\r\n        /**\r\n         * Adding expertise tags as array\r\n         * */\r\n        userCtrl.addExpertiseList = function()\r\n        {\r\n            $http.post('/addExpertiseList',{\r\n                    expertiseList:      userCtrl.tagExpertiseList\r\n                })\r\n                .success(function(response){\r\n                    console.log(response);\r\n                    return response;\r\n                })\r\n        }\r\n\r\n\r\n        /**\r\n         * Addiing experise as single string\r\n         */\r\n        userCtrl.addExpertise = function(uuid)\r\n        {\r\n            $http.post('/addExpertise',{\r\n                    uuid: uuid,\r\n                    expertise:      userCtrl.expertise,\r\n                    expertise_body: userCtrl.expertise_body\r\n            })\r\n            .success(function(response){\r\n                console.log(response);\r\n                userCtrl.expertiseArray = [];\r\n                userCtrl.expertiseArray = response;\r\n                return response;\r\n            })\r\n        }\r\n\r\n\r\n        /**\r\n         * Add new profile image\r\n         * */\r\n        userCtrl.addProfileImage = function(files)\r\n        {\r\n            angular.forEach(files, function(flowFile, i){\r\n                var fileReader = new FileReader();\r\n                fileReader.onload = function (event) {\r\n                var uri = event.target.result;\r\n\r\n                    toastr.info('Saving...!')\r\n\r\n                    $http.post(\"/uploadAvatar\", { data: uri} )\r\n                        .success(function( response ) {\r\n                            $('#profilePhoto').attr( \"src\", response);\r\n                            toastr.success('Save!');\r\n                        });\r\n                };\r\n                fileReader.readAsDataURL(flowFile.file);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Update user info\r\n         * */\r\n        userCtrl.updateInfo = function()\r\n        {\r\n            toastr.info('Saving...!')\r\n\r\n            $http.post('/updateUserInfo',{ data: userCtrl.editForm })\r\n            .success(function(response){\r\n                toastr.success('Save!');\r\n            })\r\n        }\r\n\r\n        /**\r\n         * Update user's password here\r\n         */\r\n        userCtrl.changePass = function()\r\n        {\r\n            toastr.info('Saving...!')\r\n\r\n            $http.post('/updatePassword',{ data: userCtrl.pwdForm })\r\n                .success(function(response){\r\n                    toastr.success('Save!');\r\n                })\r\n        }\r\n\r\n    })\r\n\r\n\r\n    /**\r\n     * Question Controller\r\n     * */\r\n    .controller('QuestionCtrl',function($http, $log, $window, $translate) {\r\n\r\n        var questionCtrl = this;\r\n\r\n\r\n        // Any key code can be used to create a custom separator\r\n        questionCtrl.keys = [188]; //Comma\r\n        questionCtrl.tags = [];\r\n\r\n\r\n        /**\r\n         * Default value set here\r\n         *\r\n         **/\r\n        questionCtrl.upvoteStatusText   = false;\r\n        questionCtrl.followStatusText   = false;\r\n        questionCtrl.downvoteStatusText = false;\r\n\r\n\r\n        /**\r\n         * Pass the upvote count to ng\r\n         * */\r\n        questionCtrl.getUpvoteCount = function(count)\r\n        {\r\n            questionCtrl.upvoteCount = count\r\n        }\r\n\r\n\r\n        /**\r\n         * Pass the downvote count to ng\r\n         * */\r\n        questionCtrl.getDownvoteCount = function(count)\r\n        {\r\n            questionCtrl.downvoteCount = count\r\n        }\r\n\r\n\r\n        //Submit question\r\n        questionCtrl.q_submit = function()\r\n        {\r\n            $http.post('/question', {\r\n                                        topic:  questionCtrl.question_topic,\r\n                                        channel:questionCtrl.question_channel,\r\n                                        anon:   questionCtrl.question_anon,\r\n                                        tags: questionCtrl.tags,\r\n            })\r\n            .then(function(response){\r\n                console.log(response);\r\n                /*if(response.status == 200){\r\n                    $window.location.href = '/';\r\n                }*/\r\n                console.log(response.status)\r\n            })\r\n        }\r\n\r\n\r\n        //Submit answer\r\n        questionCtrl.answer_submit = function(topic_uuid)\r\n        {\r\n            $http.post('/answer', {\r\n                                    topic: topic_uuid,\r\n                                    text:   questionCtrl.answer_text\r\n            })\r\n            .then(function(response){\r\n                questionCtrl.answer_text        =   null;\r\n                questionCtrl.answerBtnStatus    =   false;\r\n                console.log(response);\r\n            })\r\n        }\r\n\r\n\r\n        //Save user expertise\r\n        questionCtrl.userExpertiseSave = function()\r\n        {\r\n            console.log(questionCtrl.userExpertTopic + questionCtrl.userExpertTopicText);\r\n        }\r\n\r\n\r\n        /**\r\n         * User follow question\r\n         */\r\n        questionCtrl.followQuestion = function(topic_uuid)\r\n        {\r\n            $http.post('/followQuestion',{\r\n                                            topic: topic_uuid\r\n            })\r\n            .then(function(response){\r\n                console.log(response);\r\n                if(response.data == 1){\r\n                    questionCtrl.followStatusText = true;\r\n                }else{\r\n                    questionCtrl.followStatusText = false;\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n        /**\r\n         * Follow status\r\n         * */\r\n        questionCtrl.getFollowStatus = function(topic_uuid)\r\n        {\r\n            $http.post('/followStatus',{\r\n                    topic: topic_uuid\r\n                })\r\n                .then(function(response){\r\n                    console.log(response);\r\n                    if(response.data == 1){\r\n                        questionCtrl.followStatusText = true;\r\n                    }else{\r\n                        questionCtrl.followStatusText = false;\r\n                    }\r\n                })\r\n        }\r\n\r\n\r\n        /**\r\n         * Up vote status\r\n         *\r\n         */\r\n        questionCtrl.upvoteStatus = function(topic_uuid)\r\n        {\r\n            $http.post('/upvoteStatus',{\r\n                    topic: topic_uuid\r\n            })\r\n            .then(function(response){\r\n\r\n                if(response.data == 1)\r\n                {\r\n                    questionCtrl.upvoteStatusText = true\r\n\r\n                }else{\r\n\r\n                    questionCtrl.upvoteStatusText =  false\r\n\r\n                }\r\n\r\n            })\r\n        }\r\n\r\n\r\n        /**\r\n         * Down Vote status\r\n         * */\r\n        questionCtrl.downvoteStatus = function(topic_uuid)\r\n        {\r\n            $http.post('/downvoteStatus',{\r\n                    topic: topic_uuid\r\n                })\r\n                .then(function(response){\r\n\r\n                    if(response.data == 1)\r\n                    {\r\n                        questionCtrl.downvoteStatusText = true\r\n\r\n                    }else{\r\n\r\n                        questionCtrl.downvoteStatusText =  false\r\n\r\n                    }\r\n\r\n                })\r\n        }\r\n\r\n\r\n        /**\r\n         * Up vote question\r\n         * @Event Click\r\n         * */\r\n        questionCtrl.questionUpvote = function(topic_uuid)\r\n        {\r\n            $http.post('/upvoteQuestion',{\r\n                    topic: topic_uuid\r\n            })\r\n            .then(function(response){\r\n                console.log(response);\r\n                if(response.data == 1)\r\n                {\r\n                    questionCtrl.upvoteStatusText = true;\r\n                    questionCtrl.downvoteStatusText = false;\r\n                    questionCtrl.upvoteCount = questionCtrl.upvoteCount + 1;\r\n                }else{\r\n                    //Prevent the highlight status to trigger\r\n                    if(questionCtrl.downvoteStatusText == false)\r\n                    {\r\n                        questionCtrl.downvoteStatusText = false;\r\n                    }else\r\n                    {\r\n                        questionCtrl.downvoteStatusText = true;\r\n                    }\r\n                    questionCtrl.upvoteStatusText = false;\r\n                    questionCtrl.upvoteCount = questionCtrl.upvoteCount - 1 ;\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n        /**\r\n         * Down vote question\r\n         * @Event Click\r\n         * */\r\n        questionCtrl.questionDownvote = function(topic_uuid)\r\n        {\r\n            $http.post('/downvoteQuestion',{\r\n                    topic: topic_uuid\r\n                })\r\n                .then(function(response){\r\n                    console.log(response);\r\n                    if(response.data == 1)\r\n                    {\r\n                        questionCtrl.upvoteStatusText = false;\r\n                        questionCtrl.downvoteStatusText = true;\r\n                        questionCtrl.downvoteCount = questionCtrl.downvoteCount+ 1;\r\n                    }else{\r\n                        //Prevent the highlight status to trigger\r\n                        if(questionCtrl.upvoteStatusText == false)\r\n                        {\r\n                            questionCtrl.upvoteStatusText = false;\r\n                        }else\r\n                        {\r\n                            questionCtrl.upvoteStatusText = true;\r\n                        }\r\n                        questionCtrl.downvoteStatusText = false;\r\n                        questionCtrl.downvoteCount = questionCtrl.downvoteCount - 1 ;\r\n                    }\r\n                })\r\n        }\r\n\r\n\r\n        //Comment on answer\r\n        questionCtrl.commentAnswer = function(topic_answers_uuid)\r\n        {\r\n            $http.post('/commentAnswer',{\r\n                    topic: topic_answers_uuid,\r\n                    body:   questionCtrl.answer_comment\r\n            })\r\n            .then(function(response){\r\n                console.log(response);\r\n            })\r\n        }\r\n\r\n    })\r\n\r\n\r\n    //Answer Controller\r\n    .controller('AnswerCtrl',function($http, $log, $window, $translate) {\r\n        var answerCtrl = this;\r\n\r\n        answerCtrl.upvoteStatusText = [];\r\n\r\n        answerCtrl.upvote = function(answer_uuid)\r\n        {\r\n            $http.post('/upvoteAnswer',{\r\n                    answer: answer_uuid\r\n            })\r\n            .then(function(response) {\r\n                console.log(response);\r\n            })\r\n        }\r\n\r\n        /**\r\n         * Get vote status on this answer\r\n         * */\r\n        answerCtrl.getAnswerStatus = function(topic_uuid, index)\r\n        {\r\n            $http.post('/upvoteAnswerStatus',{\r\n                    answer: topic_uuid\r\n                })\r\n                .then(function(response){\r\n\r\n                    if(response.data == 1)\r\n                    {\r\n                        answerCtrl.upvoteStatusText[index] = true\r\n\r\n                    }else{\r\n\r\n                        answerCtrl.upvoteStatusText[index] =  false\r\n\r\n                    }\r\n\r\n                })\r\n        }\r\n    })"],"sourceRoot":"/source/"}